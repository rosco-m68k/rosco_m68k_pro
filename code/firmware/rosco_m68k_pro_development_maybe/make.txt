=== Building rosco_m68k firmware for revision 2.x board
=== Building rosco_m68k firmware for 1MB SST39SF040 (HUGEROM)
=== Building rosco_m68k firmware with 68681 DUART support
=== Building rosco_m68k firmware with block device support
=== Building rosco_m68k firmware with V9958 VDP
=== Building rosco_m68k firmware with Xosera ANSI console
=== Building rosco_m68k firmware with DEBUG_STUB
make -C stage2 clean	
rm -f init2.o common.o serial.o machine.o main2.o kermit/kermit.o kermit/kermit_support.o sdfat/sdcard.o sdfat/load.o sdfat/fat_io_lib/fat_access.o sdfat/fat_io_lib/fat_cache.o sdfat/fat_io_lib/fat_filelib.o sdfat/fat_io_lib/fat_format.o sdfat/fat_io_lib/fat_misc.o sdfat/fat_io_lib/fat_string.o sdfat/fat_io_lib/fat_table.o sdfat/fat_io_lib/fat_write.o idehdd/ata.o idehdd/part.o idehdd/load.o loader2.bin loader2.bin.zip loader2.bin.zip.o loader2.map
rm -f bootstrap.o lzgmini_68k.o decompress.o ansicon.o trap14.o cpuspeed.o warmboot.o main1.o  blockdev/bbspi.o blockdev/bbsd.o blockdev/syscalls_asm.o blockdev/ata.o video9958/vdpcon.o video9958/font.o videoXoseraANSI/xosera_ansiterm_init.o videoXoseraANSI/xosera_ansiterm_m68k.o videoXoseraANSI/xosera_m68k_api.o debug_stub/debug_stub.o easy68k/syscalls_asm.o easy68k/syscalls.o rosco_m68k.rom rosco_m68k_odd.rom rosco_m68k_even.rom rosco_m68k.map rosco_m68k_mame.rom.bin
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o bootstrap.o bootstrap.asm
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM  -o lzgmini_68k.o lzgmini_68k.s
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o decompress.o decompress.asm
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o ansicon.o ansicon.asm
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o trap14.o trap14.asm
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -Os -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o cpuspeed.o cpuspeed.c
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o warmboot.o warmboot.asm
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -Os -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o main1.o main1.c
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -O3 -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o blockdev/bbspi.o blockdev/bbspi.c
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -O3 -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o blockdev/bbsd.o blockdev/bbsd.c
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o blockdev/syscalls_asm.o blockdev/syscalls_asm.asm
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -O3 -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o blockdev/ata.o blockdev/ata.c
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o video9958/vdpcon.o video9958/vdpcon.asm
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o video9958/font.o video9958/font.asm
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o videoXoseraANSI/xosera_ansiterm_init.o videoXoseraANSI/xosera_ansiterm_init.asm
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -Os -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o videoXoseraANSI/xosera_ansiterm_m68k.o videoXoseraANSI/xosera_ansiterm_m68k.c
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -Os -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o videoXoseraANSI/xosera_m68k_api.o videoXoseraANSI/xosera_m68k_api.c
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o debug_stub/debug_stub.o debug_stub/debug_stub.asm
vasmm68k_mot -Felf -m68010 -quiet  -DHUGEROM -o easy68k/syscalls_asm.o easy68k/syscalls_asm.asm
m68k-elf-gcc -c -std=c11 -ffreestanding -nostartfiles -Wall -Wpedantic -Werror -Iinclude -mcpu=68010 -march=68010 -mtune=68010 -Os -fomit-frame-pointer -mno-align-int -mno-strict-align  -DHUGEROM -g -DROSCO_M68K_SDCARD -DSD_BLOCK_READ_ONLY -DBLOCKDEV_SUPPORT -DROSCO_M68K_ATA -Iblockdev/include -DVIDEO9958_CON -Ivideo9958/include -DXOSERA_ANSI_CON -IvideoXoseraANSI -DHAVE_DEBUG_STUB -DEASY68K_TRAP -o easy68k/syscalls.o easy68k/syscalls.c
CPU='68010' ARCH='68010' TUNE='68010' make -C stage2 loader2.bin.zip.o
vasmm68k_mot -Felf -m68010 -quiet  -o init2.o init2.asm
m68k-elf-gcc -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -Os  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -c -o common.o common.c
vasmm68k_mot -Felf -m68010 -quiet  -o serial.o serial.asm
vasmm68k_mot -Felf -m68010 -quiet  -o machine.o machine.asm
m68k-elf-gcc -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -Os  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -c -o main2.o main2.c
m68k-elf-gcc -std=c11 -ffreestanding -Wno-unused-parameter -Wall -Werror -Wpedantic -Wno-unused-function -Os -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align   -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -c -o kermit/kermit.o kermit/kermit.c
m68k-elf-gcc -std=c11 -ffreestanding -Wno-unused-parameter -Wall -Werror -Wpedantic -Wno-unused-function -Os -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align   -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -c -o kermit/kermit_support.o kermit/kermit_support.c
vasmm68k_mot -Felf -m68010 -quiet  -o sdfat/sdcard.o sdfat/sdcard.asm
m68k-elf-gcc -std=c11 -ffreestanding -Wno-unused-parameter -Wall -Werror -Wpedantic -Wno-unused-function -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -DROSCO_M68K -DFATFS_USE_CUSTOM_OPTS_FILE -Isdfat/include -I../blockdev/include -mno-align-int -mno-strict-align  -DSDFAT_LOADER  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -c -o sdfat/load.o sdfat/load.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_access.o sdfat/fat_io_lib/fat_access.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_cache.o sdfat/fat_io_lib/fat_cache.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_filelib.o sdfat/fat_io_lib/fat_filelib.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_format.o sdfat/fat_io_lib/fat_format.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_misc.o sdfat/fat_io_lib/fat_misc.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_string.o sdfat/fat_io_lib/fat_string.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_table.o sdfat/fat_io_lib/fat_table.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o sdfat/fat_io_lib/fat_write.o sdfat/fat_io_lib/fat_write.c
vasmm68k_mot -Felf -m68010 -quiet  -o idehdd/ata.o idehdd/ata.asm
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o idehdd/part.o idehdd/part.c
m68k-elf-gcc -c -std=c11 -ffreestanding -Wno-unused-parameter -fomit-frame-pointer -Wall -Werror -Wpedantic -Wno-unused-function -Ifat_io_lib -Iinclude -I../include -mcpu=68010 -march=68010 -mtune=68010 -mno-align-int -mno-strict-align  -O9  -Ikermit/include -DNODEBUG -DRECVONLY -DNO_CTRLC -DSTATIC=static -DKERMIT_LOADER	  -DFATFS_USE_CUSTOM_OPTS_FILE -DSPI_FASTER -DSD_FASTER -DSD_MINIMAL -DSDFAT_LOADER -Isdfat/include -DIDE_LOADER -Iidehdd/include -I../blockdev/include -o idehdd/load.o idehdd/load.c
m68k-elf-ld -T rosco_m68k_stage2.ld -Map=loader2.map init2.o common.o serial.o machine.o main2.o kermit/kermit.o kermit/kermit_support.o sdfat/sdcard.o sdfat/load.o sdfat/fat_io_lib/fat_access.o sdfat/fat_io_lib/fat_cache.o sdfat/fat_io_lib/fat_filelib.o sdfat/fat_io_lib/fat_format.o sdfat/fat_io_lib/fat_misc.o sdfat/fat_io_lib/fat_string.o sdfat/fat_io_lib/fat_table.o sdfat/fat_io_lib/fat_write.o idehdd/ata.o idehdd/part.o idehdd/load.o -o loader2.bin 
chmod a-x loader2.bin
../tools/liblzg/src/tools/lzg -9 loader2.bin loader2.bin.zip
m68k-elf-objcopy -I binary -O elf32-m68k -B m68k --rename-section .data=.zipdata loader2.bin.zip loader2.bin.zip.o
m68k-elf-ld -T ./rosco_m68k_firmware_1M.ld -Map=rosco_m68k.map bootstrap.o lzgmini_68k.o decompress.o ansicon.o trap14.o cpuspeed.o warmboot.o main1.o blockdev/bbspi.o blockdev/bbsd.o blockdev/syscalls_asm.o blockdev/ata.o video9958/vdpcon.o video9958/font.o videoXoseraANSI/xosera_ansiterm_init.o videoXoseraANSI/xosera_ansiterm_m68k.o videoXoseraANSI/xosera_m68k_api.o debug_stub/debug_stub.o easy68k/syscalls_asm.o easy68k/syscalls.o stage2/loader2.bin.zip.o -o rosco_m68k.elf
m68k-elf-nm --numeric-sort rosco_m68k.elf >rosco_m68k.sym
m68k-elf-size rosco_m68k.elf
   text	   data	    bss	    dec	    hex	filename
  36556	     16	    682	  37254	   9186	rosco_m68k.elf
chmod a-x rosco_m68k.elf
m68k-elf-objdump --disassemble -S rosco_m68k.elf >rosco_m68k.dis
m68k-elf-objcopy -O binary rosco_m68k.elf rosco_m68k.rom
chmod a-x rosco_m68k.rom
=== Completed building rosco_m68k firmware for 1MB HUGEROM SST39SF040: rosco_m68k.rom
srec_cat -output rosco_m68k_even.rom -Binary rosco_m68k.rom -Binary -Split 2 0
srec_cat -output rosco_m68k_odd.rom -Binary rosco_m68k.rom -Binary -Split 2 1
